/*!
 * The Sutton SignWriting Web Components
 */
import{r as t,c as e,d as n,h as s,H as i,g as o}from"./p-21b6f294.js";let r={symbol:"S[123][0-9a-f]{2}[0-5][0-9a-f]",coord:"[0-9]{3}x[0-9]{3}",sort:"A",box:"[BLMR]"};r.prefix=`(?:${r.sort}(?:${r.symbol})+)`,r.spatial=`${r.symbol}${r.coord}`,r.signbox=`${r.box}${r.coord}(?:${r.spatial})*`,r.sign=`${r.prefix}?${r.signbox}`,r.sortable=`${r.prefix}${r.signbox}`;let l={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};l.colorbase=`(?:${l.colorhex}|${l.colorname})`,l.color=`_${l.colorbase}_`,l.colors=`_${l.colorbase}(?:,${l.colorbase})?_`,l.background=`G${l.color}`,l.detail=`D${l.colors}`,l.detailsym=`D[0-9]{2}${l.colors}`,l.classes=`${l.classbase}(?: ${l.classbase})*`,l.full=`-(${l.colorize})?(${l.padding})?(${l.background})?(${l.detail})?(${l.zoom})?(?:-((?:${l.detailsym})*))?(?:-(${l.classes})?!(?:(${l.id})!)?)?`;const $=t=>t.split("x").map((t=>parseInt(t)));let a={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};a.colorbase=`(?:${a.colorhex}|${a.colorname})`,a.color=`_${a.colorbase}_`,a.colors=`_${a.colorbase}(?:,${a.colorbase})?_`,a.background=`G${a.color}`,a.detail=`D${a.colors}`,a.detailsym=`D[0-9]{2}${a.colors}`,a.classes=`${a.classbase}(?: ${a.classbase})*`,a.full=`-(${a.colorize})?(${a.padding})?(${a.background})?(${a.detail})?(${a.zoom})?(?:-((?:${a.detailsym})*))?(?:-(${a.classes})?!(?:(${a.id})!)?)?`;const c=t=>{if("object"!=typeof t||null===t)return;let e="-";e+=t.colorize?"C":"";const n=parseInt(t.padding);e+=!n||n<=0||n>99?"":"P"+(n>9?n:"0"+n);const s=t.background&&"string"==typeof t.background?t.background.match(a.colorbase)[0]:void 0;e+=s?"G_"+s+"_":"";const i=t.detail&&t.detail[0]&&"string"==typeof t.detail[0]?t.detail[0].match(a.colorbase)[0]:void 0,o=t.detail&&t.detail[1]&&"string"==typeof t.detail[1]?t.detail[1].match(a.colorbase)[0]:void 0;i&&(e+="D_"+i,o&&(e+=","+o),e+="_");const r="x"===t.zoom?"x":parseFloat(t.zoom);e+=!r||r<=0?"":"Z"+r;let l="";l+=(t.detailsym&&Array.isArray(t.detailsym)?t.detailsym.map((t=>{const e=parseInt(t.index);if(!e||e<=0||e>99)return"";let n="D"+(e>9?e:"0"+e);const s=t.detail&&t.detail[0]?t.detail[0].match(a.colorbase)[0]:void 0,i=t.detail&&t.detail[1]?t.detail[1].match(a.colorbase)[0]:void 0;return s&&(n+="_"+s,i&&(n+=","+i),n+="_"),n})):[]).join("");let $="";const c=t.classes&&"string"==typeof t.classes?t.classes.match(a.classes)[0]:void 0;$+=c||"";const d=t.id&&"string"==typeof t.id?t.id.match(a.id)[0]:void 0;return $+=c||d?"!":"",$+=d?d+"!":"",e+(l||$?"-"+l:"")+($?"-"+$:"")},d=t=>1+96*(parseInt(t.slice(1,4),16)-256)+16*parseInt(t.slice(4,5),16)+parseInt(t.slice(5,6),16);let f,g={};const u=function(t){return function(t){if(t in g)return[...g[t]];if(!f){const t=document.createElement("canvas");t.width=152,t.height=152,f=t.getContext("2d")}f.clearRect(0,0,152,152),f.font="60px 'SuttonSignWritingLine'",f.fillText(String.fromCodePoint(t+983040),0,0);const e=f.getImageData(0,0,152,152).data;let n,s,i,o;t:for(n=151;n>=0;n--)for(s=0;s<152;s+=1)for(o=0;o<4;o+=1)if(i=4*n+4*s*152+o,e[i])break t;var r=n;t:for(s=151;s>=0;s--)for(n=0;n<r;n+=1)for(o=0;o<4;o+=1)if(i=4*n+4*s*152+o,e[i])break t;var l=s+1;if(r=Math.ceil(r/2),l=Math.ceil(l/2),14394==t&&(r=19),[10468,10480,10496,10512,10500,10532,10548,10862,10878,10894,11058,11074,11476,11488,11492,11504,11508,11520,10516,10910,10926,11042,11082,10942].includes(t)&&(r=20),31921==t&&(r=22),38460==t&&(r=23),[20164,20212].includes(t)&&(r=25),31894==t&&(r=28),46698==t&&(r=29),29606==t&&(r=30),44855==t&&(r=40),32667==t&&(r=50),[11088,11474,11490,11506].includes(t)&&(l=20),6285==t&&(l=21),40804==t&&(l=31),41475==t&&(l=36),0==r&&0==l){const e={9:[15,30],10:[21,30],11:[30,15],12:[30,21],13:[15,30],14:[21,30]};t in e&&(r=e[t][0],l=e[t][1])}return 0!=r||0!=l?(g[t]=[r,l],[r,l]):void 0}(d(t))},h=function(t){return`    <text class="sym-fill" fill="white" style="pointer-events:none;font-family:'SuttonSignWritingFill';font-size:30px;">${function(t){return String.fromCodePoint(t+1048576)}(e=d(t))}</text>\n    <text class="sym-line" fill="black" style="pointer-events:none;font-family:'SuttonSignWritingLine';font-size:30px;">${function(t){return String.fromCodePoint(t+983040)}(e)}</text>`;var e};let w={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};w.colorbase=`(?:${w.colorhex}|${w.colorname})`,w.color=`_${w.colorbase}_`,w.colors=`_${w.colorbase}(?:,${w.colorbase})?_`,w.background=`G${w.color}`,w.detail=`D${w.colors}`,w.detailsym=`D[0-9]{2}${w.colors}`,w.classes=`${w.classbase}(?: ${w.classbase})*`,w.full=`-(${w.colorize})?(${w.padding})?(${w.background})?(${w.detail})?(${w.zoom})?(?:-((?:${w.detailsym})*))?(?:-(${w.classes})?!(?:(${w.id})!)?)?`;const p=t=>(new RegExp(`^${w.colorhex}$`).test(t)?"#":"")+t,v=t=>{const e=("string"==typeof t?t.match(new RegExp(`^${w.full}`)):[])||[];return n={colorize:e[1]?!!e[1]:void 0,padding:e[2]?parseInt(e[2].slice(1)):void 0,background:e[3]?p(e[3].slice(2,-1)):void 0,detail:e[4]?e[4].slice(2,-1).split(",").map(p):void 0,zoom:e[5]?"Zx"===e[5]?"x":parseFloat(e[5].slice(1)):void 0,detailsym:e[6]?e[6].match(new RegExp(w.detailsym,"g")).map((t=>{const e=t.split("_"),n=e[1].split(",").map(p);return{index:parseInt(e[0].slice(1)),detail:n}})):void 0,classes:e[7]?e[7]:void 0,id:e[8]?e[8]:void 0},Object.fromEntries(Object.entries(n).filter((([t,e])=>void 0!==e)));var n};let x={symbol:"S[123][0-9a-f]{2}[0-5][0-9a-f]",coord:"[0-9]{3}x[0-9]{3}",sort:"A",box:"[BLMR]"};x.prefix=`(?:${x.sort}(?:${x.symbol})+)`,x.spatial=`${x.symbol}${x.coord}`,x.signbox=`${x.box}${x.coord}(?:${x.spatial})*`,x.sign=`${x.prefix}?${x.signbox}`,x.sortable=`${x.prefix}${x.signbox}`;let y={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};y.colorbase=`(?:${y.colorhex}|${y.colorname})`,y.color=`_${y.colorbase}_`,y.colors=`_${y.colorbase}(?:,${y.colorbase})?_`,y.background=`G${y.color}`,y.detail=`D${y.colors}`,y.detailsym=`D[0-9]{2}${y.colors}`,y.classes=`${y.classbase}(?: ${y.classbase})*`,y.full=`-(${y.colorize})?(${y.padding})?(${y.background})?(${y.detail})?(${y.zoom})?(?:-((?:${y.detailsym})*))?(?:-(${y.classes})?!(?:(${y.id})!)?)?`;const m=t=>t.split("x").map((t=>parseInt(t))),b=t=>{const e="string"==typeof t?t.match(new RegExp(`^(${x.symbol})(${x.coord})?(${y.full})?`)):void 0;return{symbol:e?e[1]:void 0,coord:e&&e[2]?m(e[2]):void 0,style:e?e[3]:void 0}},z=t=>{const e="string"==typeof t?t.match(new RegExp(`^(${x.prefix})?(${x.signbox})(${y.full})?`)):void 0;return e?{sequence:e[1]?e[1].slice(1).match(/.{6}/g):void 0,box:e[2][0],max:m(e[2].slice(1,8)),spatials:e[2].length<9?void 0:e[2].slice(8).match(/(.{13})/g).map((t=>({symbol:t.slice(0,6),coord:[parseInt(t.slice(6,9)),parseInt(t.slice(10,13))]}))),style:e[3]}:{}},_=[256,517,759,767,877,895,903],A=["#0000CC","#CC0000","#FF0099","#006600","#000000","#884411","#FF9900"],Z=t=>{const e=b(t);let n="#000000";if(e.symbol){const t=parseInt(e.symbol.slice(1,4),16),s=_.findIndex((e=>e>t));n=A[s<0?6:s-1]}return n},I=t=>{const e=b(t),n='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1" height="1"></svg>';if(!e.symbol)return n;let s,i,o,r,l=v(e.style);if(e.coord)s=e.coord[0],i=e.coord[1],o=500-s+500,r=500-i+500;else{let t=u(e.symbol);if(!t)return n;s=parseInt(500-t[0]/2),i=parseInt(500-t[1]/2),o=s+t[0],r=i+t[1]}let $="";l.classes&&($=` class="${l.classes}"`);let a="";l.id&&(a=` id="${l.id}"`),l.padding&&(s-=l.padding,i-=l.padding,o+=l.padding,r+=l.padding);let c="";return"x"!=l.zoom&&(c=` width="${(o-s)*(l.zoom?l.zoom:1)}" height="${(r-i)*(l.zoom?l.zoom:1)}"`),`<svg${$}${a} version="1.1" xmlns="http://www.w3.org/2000/svg"${c} viewBox="${s} ${i} ${o-s} ${r-i}">\n${(t=>{const e=b(t);if(!e.symbol)return"";let n,s,i,o,r=v(e.style);if(e.coord)n=e.coord[0],s=e.coord[1],i=500-n+500,o=500-s+500;else{let t=u(e.symbol);if(!t)return"";n=500-parseInt((t[0]+1)/2),s=500-parseInt((t[1]+1)/2),i=500-n+500,o=500-s+500}let l,$=h(e.symbol);$=`  <g transform="translate(${n},${s})">\n${$}\n  </g>`,r.colorize?l=Z(e.symbol):r.detail&&(l=r.detail[0]),l&&($=$.replace(/class="sym-line" fill="black"/,`class="sym-line" fill="${l}"`));let a=r.detail&&r.detail[1];a&&($=$.replace(/class="sym-fill" fill="white"/,`class="sym-fill" fill="${a}"`));let c="";return r.padding&&(n-=r.padding,s-=r.padding,i+=r.padding,o+=r.padding),r.background&&(c=`\n  <rect x="${n}" y="${s}" width="${i-n}" height="${o-s}" style="fill:${r.background};" />`),`  <text font-size="0">${t}</text>${c}\n${$}`})(t)}\n</svg>`},k=t=>{let e=z(t);if(e.spatials){let n=v(e.style),s=Math.min(...e.spatials.map((t=>t.coord[0]))),i=Math.min(...e.spatials.map((t=>t.coord[1]))),o=e.max[0],r=e.max[1],l="";n.classes&&(l=` class="${n.classes}"`);let $="";n.id&&($=` id="${n.id}"`),n.padding&&(s-=n.padding,i-=n.padding,o+=n.padding,r+=n.padding);let a="";"x"!=n.zoom&&(a=` width="${(o-s)*(n.zoom?n.zoom:1)}" height="${(r-i)*(n.zoom?n.zoom:1)}"`);let c=`<svg${l}${$} version="1.1" xmlns="http://www.w3.org/2000/svg"${a} viewBox="${s} ${i} ${o-s} ${r-i}">\n`;return c+=(t=>{let e=z(t);if(e.spatials){let n=v(e.style);n.detailsym&&n.detailsym.forEach((t=>{e.spatials[t.index-1]&&(e.spatials[t.index-1].detail=t.detail)}));let s=Math.min(...e.spatials.map((t=>t.coord[0]))),i=Math.min(...e.spatials.map((t=>t.coord[1]))),o=e.max[0],r=e.max[1],l="";n.padding&&(s-=n.padding,i-=n.padding,o+=n.padding,r+=n.padding),n.background&&(l=`\n  <rect x="${s}" y="${i}" width="${o-s}" height="${r-i}" style="fill:${n.background};" />`);let $=`  <text font-size="0">${t}</text>${l}`;const a=n.detail&&n.detail[0],c=n.detail&&n.detail[1];return $+="\n"+e.spatials.map((t=>{let e=h(t.symbol),s=a;t.detail?s=t.detail[0]:n.colorize&&(s=Z(t.symbol)),s&&(e=e.replace(/class="sym-line" fill="black"/,`class="sym-line" fill="${s}"`));let i=c;return t.detail&&t.detail[1]&&(i=t.detail[1]),i&&(e=e.replace(/class="sym-fill" fill="white"/,`class="sym-fill" fill="${i}"`)),`  <g transform="translate(${t.coord[0]},${t.coord[1]})">\n${e}\n  </g>`})).join("\n"),$}return""})(t),c+="\n</svg>",c}return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1" height="1"></svg>'},C=class{constructor(e){t(this,e),this.sgnw=window.sgnw}connectedCallback(){if(!this.sign){let t=(t=>{const e="string"==typeof t?t.match(new RegExp(`^(${r.prefix})?(${r.signbox})(${l.full})?`)):void 0;return e?{sequence:e[1]?e[1].slice(1).match(/.{6}/g):void 0,box:e[2][0],max:$(e[2].slice(1,8)),spatials:e[2].length<9?void 0:e[2].slice(8).match(/(.{13})/g).map((t=>({symbol:t.slice(0,6),coord:[parseInt(t.slice(6,9)),parseInt(t.slice(10,13))]}))),style:e[3]}:{}})(this.el.innerHTML);t.style&&(this.styling=t.style),t.style="",this.sign=(t=>{let e="string"!=typeof t.box?"M":(t.box+"M").match(r.box);const n=(((t.max&&t.max[0]||"").toString()+"x"+(t.max&&t.max[1]||"").toString()).match(r.coord)||[""])[0]||"";if(!n)return;let s="";t.sequence&&Array.isArray(t.sequence)&&(s=t.sequence.map((t=>(t.match(r.symbol)||[""])[0])).join(""),s=s?"A"+s:"");let i="";return t.spatials&&Array.isArray(t.spatials)&&(i=t.spatials.map((t=>{if("string"==typeof t.symbol){const e=(t.symbol.match(r.symbol)||[""])[0];if(e){const n=(((t.coord&&t.coord[0]||"").toString()+"x"+(t.coord&&t.coord[1]||"").toString()).match(r.coord)||[""])[0]||"";if(n)return e+n}}return""})).join("")),s+e+n+i+("string"==typeof t.style&&(t.style.match(l.full)||[""])[0]||"")})(t)}if(!this.sgnw){let t=this;window.addEventListener("sgnw",(function e(){t.sgnw=window.sgnw,window.removeEventListener("sgnw",e,!1)}),!1)}}render(){let t="";if(this.styling)t=this.styling;else{let s=window.getComputedStyle(this.el,null);const i={background:e(s.getPropertyValue("background-color")),detail:[n(s.getPropertyValue("color")),n(s.getPropertyValue("background-color"))],zoom:parseInt(s.getPropertyValue("font-size").slice(0,-2))/30};t=c(i)}return s(i,{sign:this.sign,styling:this.styling,innerHTML:this.sgnw?k(this.sign+t):""},s("slot",null))}get el(){return o(this)}};C.style=":host{direction:ltr}";const M=class{constructor(e){t(this,e),this.sgnw=window.sgnw}connectedCallback(){if(!this.symbol){let t=(t=>{const e="string"==typeof t?t.match(new RegExp(`^(${r.symbol})(${r.coord})?(${l.full})?`)):void 0;return{symbol:e?e[1]:void 0,coord:e&&e[2]?$(e[2]):void 0,style:e?e[3]:void 0}})(this.el.innerHTML);t.style&&(this.styling=t.style),t.style="",this.symbol=(t=>{if("string"==typeof t.symbol){const e=(t.symbol.match(r.symbol)||[""])[0];if(e)return e+((((t.coord&&t.coord[0]||"").toString()+"x"+(t.coord&&t.coord[1]||"").toString()).match(r.coord)||[""])[0]||"")+("string"==typeof t.style&&(t.style.match(l.full)||[""])[0]||"")}})(t)}if(!this.sgnw){let t=this;window.addEventListener("sgnw",(function e(){t.sgnw=window.sgnw,window.removeEventListener("sgnw",e,!1)}),!1)}}render(){let t="";if(this.styling)t=this.styling;else{let s=window.getComputedStyle(this.el,null);const i={background:e(s.getPropertyValue("background-color")),detail:[n(s.getPropertyValue("color")),n(s.getPropertyValue("background-color"))],zoom:parseInt(s.getPropertyValue("font-size").slice(0,-2))/30};t=c(i)}return s(i,{symbol:this.symbol,styling:this.styling,innerHTML:this.sgnw?I(this.symbol+t):""},s("slot",null))}get el(){return o(this)}};M.style="";const S=class{constructor(e){t(this,e),this.sgnw=window.sgnw,this.items=[]}parseText(t){const e=`${r.sign}(${a.full})?`,n=new RegExp(e),s=`${r.spatial}(${a.full})?`,i=new RegExp(s),o="<img.*?>",l=new RegExp(o);let $=t.match(new RegExp(`(${e}|${s}|${o}|.)`,"g")),c=[],d="",f="";for(let t of $)n.test(t)?f="sign":i.test(t)?f="spatial":l.test(t)?f="img":(f="other",d+=t),"other"!=f&&(d&&" "!=d&&c.push({other:d}),d="",c.push({[f]:t}));d&&" "!=d&&c.push({other:d}),this.items=c}connectedCallback(){if(this.text=this.el.innerHTML,!this.sgnw){let t=this;window.addEventListener("sgnw",(function e(){t.sgnw=window.sgnw,window.removeEventListener("sgnw",e,!1)}),!1)}}render(){return s(i,{text:this.text},s("span",{class:"outside"},s("span",{class:"middle"},s("span",{class:"inside"},this.items.map((t=>t.sign?s("fsw-sign",null,t.sign):t.spatial?s("fsw-symbol",null,t.spatial):t.img?s("div",{innerHTML:t.img}):s("div",null,t.other)))))))}get el(){return o(this)}static get watchers(){return{text:["parseText"]}}};S.style=":host{writing-mode:vertical-lr;border-left:1px solid blue;height:100%;font-size:30px}span.outside{border-left:1px solid green;vertical-align:top}span.middle{vertical-align:bottom}span.inside{border-left:1px dashed red}div{writing-mode:horizontal-tb;display:inline-block;padding:10px}fsw-sign,fsw-symbol{writing-mode:horizontal-tb;display:inline-block;vertical-align:middle;padding:20px;box-sizing:content-box}";let F={symbol:"(?:(?:\ud8c0[\udc01-\udfff])|(?:[\ud8c1-\ud8fc][\udc00-\udfff])|(?:\ud8fd[\udc00-\udc80]))",coord:"(?:\ud836[\udc0c-\uddff]){2}",sort:"𝠀",box:"\ud836[\udc01-\udc04]"};F.prefix=`(?:${F.sort}(?:${F.symbol})+)`,F.spatial=`${F.symbol}${F.coord}`,F.signbox=`${F.box}${F.coord}(?:${F.spatial})*`,F.sign=`${F.prefix}?${F.signbox}`,F.sortable=`${F.prefix}${F.signbox}`;let R={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};R.colorbase=`(?:${R.colorhex}|${R.colorname})`,R.color=`_${R.colorbase}_`,R.colors=`_${R.colorbase}(?:,${R.colorbase})?_`,R.background=`G${R.color}`,R.detail=`D${R.colors}`,R.detailsym=`D[0-9]{2}${R.colors}`,R.classes=`${R.classbase}(?: ${R.classbase})*`,R.full=`-(${R.colorize})?(${R.padding})?(${R.background})?(${R.detail})?(${R.zoom})?(?:-((?:${R.detailsym})*))?(?:-(${R.classes})?!(?:(${R.id})!)?)?`;const E=t=>parseInt(t.codePointAt(0))-120844+250,D=t=>[E(t.slice(0,2)),E(t.slice(2,4))],L=t=>t.map((t=>(t=>String.fromCodePoint(120844+parseInt(t)-250))(t))).join(""),j=t=>(t=>parseInt(t.codePointAt(0)))(t)-262144;let G,P={};const T=function(t){return function(t){if(t in P)return[...P[t]];if(!G){const t=document.createElement("canvas");t.width=152,t.height=152,G=t.getContext("2d")}G.clearRect(0,0,152,152),G.font="60px 'SuttonSignWritingLine'",G.fillText(String.fromCodePoint(t+983040),0,0);const e=G.getImageData(0,0,152,152).data;let n,s,i,o;t:for(n=151;n>=0;n--)for(s=0;s<152;s+=1)for(o=0;o<4;o+=1)if(i=4*n+4*s*152+o,e[i])break t;var r=n;t:for(s=151;s>=0;s--)for(n=0;n<r;n+=1)for(o=0;o<4;o+=1)if(i=4*n+4*s*152+o,e[i])break t;var l=s+1;if(r=Math.ceil(r/2),l=Math.ceil(l/2),14394==t&&(r=19),[10468,10480,10496,10512,10500,10532,10548,10862,10878,10894,11058,11074,11476,11488,11492,11504,11508,11520,10516,10910,10926,11042,11082,10942].includes(t)&&(r=20),31921==t&&(r=22),38460==t&&(r=23),[20164,20212].includes(t)&&(r=25),31894==t&&(r=28),46698==t&&(r=29),29606==t&&(r=30),44855==t&&(r=40),32667==t&&(r=50),[11088,11474,11490,11506].includes(t)&&(l=20),6285==t&&(l=21),40804==t&&(l=31),41475==t&&(l=36),0==r&&0==l){const e={9:[15,30],10:[21,30],11:[30,15],12:[30,21],13:[15,30],14:[21,30]};t in e&&(r=e[t][0],l=e[t][1])}return 0!=r||0!=l?(P[t]=[r,l],[r,l]):void 0}(j(t))},B=function(t){return`    <text class="sym-fill" fill="white" style="pointer-events:none;font-family:'SuttonSignWritingFill';font-size:30px;">${function(t){return String.fromCodePoint(t+1048576)}(e=j(t))}</text>\n    <text class="sym-line" fill="black" style="pointer-events:none;font-family:'SuttonSignWritingLine';font-size:30px;">${function(t){return String.fromCodePoint(t+983040)}(e)}</text>`;var e};let H={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};H.colorbase=`(?:${H.colorhex}|${H.colorname})`,H.color=`_${H.colorbase}_`,H.colors=`_${H.colorbase}(?:,${H.colorbase})?_`,H.background=`G${H.color}`,H.detail=`D${H.colors}`,H.detailsym=`D[0-9]{2}${H.colors}`,H.classes=`${H.classbase}(?: ${H.classbase})*`,H.full=`-(${H.colorize})?(${H.padding})?(${H.background})?(${H.detail})?(${H.zoom})?(?:-((?:${H.detailsym})*))?(?:-(${H.classes})?!(?:(${H.id})!)?)?`;const W=t=>(new RegExp(`^${H.colorhex}$`).test(t)?"#":"")+t,q=t=>{const e=("string"==typeof t?t.match(new RegExp(`^${H.full}`)):[])||[];return n={colorize:e[1]?!!e[1]:void 0,padding:e[2]?parseInt(e[2].slice(1)):void 0,background:e[3]?W(e[3].slice(2,-1)):void 0,detail:e[4]?e[4].slice(2,-1).split(",").map(W):void 0,zoom:e[5]?"Zx"===e[5]?"x":parseFloat(e[5].slice(1)):void 0,detailsym:e[6]?e[6].match(new RegExp(H.detailsym,"g")).map((t=>{const e=t.split("_"),n=e[1].split(",").map(W);return{index:parseInt(e[0].slice(1)),detail:n}})):void 0,classes:e[7]?e[7]:void 0,id:e[8]?e[8]:void 0},Object.fromEntries(Object.entries(n).filter((([t,e])=>void 0!==e)));var n};let O={symbol:"(?:(?:\ud8c0[\udc01-\udfff])|(?:[\ud8c1-\ud8fc][\udc00-\udfff])|(?:\ud8fd[\udc00-\udc80]))",coord:"(?:\ud836[\udc0c-\uddff]){2}",sort:"𝠀",box:"\ud836[\udc01-\udc04]"};O.prefix=`(?:${O.sort}(?:${O.symbol})+)`,O.spatial=`${O.symbol}${O.coord}`,O.signbox=`${O.box}${O.coord}(?:${O.spatial})*`,O.sign=`${O.prefix}?${O.signbox}`,O.sortable=`${O.prefix}${O.signbox}`;let J={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};J.colorbase=`(?:${J.colorhex}|${J.colorname})`,J.color=`_${J.colorbase}_`,J.colors=`_${J.colorbase}(?:,${J.colorbase})?_`,J.background=`G${J.color}`,J.detail=`D${J.colors}`,J.detailsym=`D[0-9]{2}${J.colors}`,J.classes=`${J.classbase}(?: ${J.classbase})*`,J.full=`-(${J.colorize})?(${J.padding})?(${J.background})?(${J.detail})?(${J.zoom})?(?:-((?:${J.detailsym})*))?(?:-(${J.classes})?!(?:(${J.id})!)?)?`;const K=t=>parseInt(t.codePointAt(0))-120844+250,N=t=>[K(t.slice(0,2)),K(t.slice(2,4))],Q=t=>{const e="string"==typeof t?t.match(new RegExp(`^(${O.symbol})(${O.coord})?(${J.full})?`)):void 0;return{symbol:e?e[1]:void 0,coord:e&&e[2]?N(e[2]):void 0,style:e?e[3]:void 0}},U=t=>{const e="string"==typeof t?t.match(new RegExp(`^(${O.prefix})?(${O.signbox})(${J.full})?`)):void 0;return e?{sequence:e[1]?e[1].slice(2).match(/.{2}/g):void 0,box:e[2].slice(0,2),max:N(e[2].slice(2,6)),spatials:e[2].length<7?void 0:e[2].slice(6).match(/(.{6})/g).map((t=>({symbol:t.slice(0,2),coord:N(t.slice(2))}))),style:e[3]}:{}},V=[262145,287201,310433,311201,321761,323489,324257],X=["#0000CC","#CC0000","#FF0099","#006600","#000000","#884411","#FF9900"],Y=t=>{const e=Q(t);let n="#000000";if(e.symbol){const t=(t=>parseInt(t.codePointAt(0)))(e.symbol),s=V.findIndex((e=>e>t));n=X[s<0?6:s-1]}return n},tt=t=>{const e=Q(t);if(!e.symbol)return"";let n,s,i,o,r=q(e.style);if(e.coord)n=e.coord[0],s=e.coord[1],i=500-n+500,o=500-s+500;else{let t=T(e.symbol);if(!t)return"";n=500-parseInt((t[0]+1)/2),s=500-parseInt((t[1]+1)/2),i=500-n+500,o=500-s+500}let l,$=B(e.symbol);$=`  <g transform="translate(${n},${s})">\n${$}\n  </g>`,r.colorize?l=Y(e.symbol):r.detail&&(l=r.detail[0]),l&&($=$.replace(/class="sym-line" fill="black"/,`class="sym-line" fill="${l}"`));let a=r.detail&&r.detail[1];a&&($=$.replace(/class="sym-fill" fill="white"/,`class="sym-fill" fill="${a}"`));let c="";return r.padding&&(n-=r.padding,s-=r.padding,i+=r.padding,o+=r.padding),r.background&&(c=`\n  <rect x="${n}" y="${s}" width="${i-n}" height="${o-s}" style="fill:${r.background};" />`),`  <text font-size="0">${t}</text>${c}\n${$}`},et=t=>{const e=Q(t),n='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1" height="1"></svg>';if(!e.symbol)return n;let s,i,o,r,l=q(e.style);if(e.coord)s=e.coord[0],i=e.coord[1],o=500-s+500,r=500-i+500;else{let t=T(e.symbol);if(!t)return n;s=parseInt(500-t[0]/2),i=parseInt(500-t[1]/2),o=s+t[0],r=i+t[1]}let $="";l.classes&&($=` class="${l.classes}"`);let a="";l.id&&(a=` id="${l.id}"`),l.padding&&(s-=l.padding,i-=l.padding,o+=l.padding,r+=l.padding);let c="";return"x"!=l.zoom&&(c=` width="${(o-s)*(l.zoom?l.zoom:1)}" height="${(r-i)*(l.zoom?l.zoom:1)}"`),`<svg${$}${a} version="1.1" xmlns="http://www.w3.org/2000/svg"${c} viewBox="${s} ${i} ${o-s} ${r-i}">\n${tt(t)}\n</svg>`},nt=t=>{let e=U(t);if(e.spatials){let n=q(e.style);n.detailsym&&n.detailsym.forEach((t=>{e.spatials[t.index-1]&&(e.spatials[t.index-1].detail=t.detail)}));let s=Math.min(...e.spatials.map((t=>t.coord[0]))),i=Math.min(...e.spatials.map((t=>t.coord[1]))),o=e.max[0],r=e.max[1],l="";n.padding&&(s-=n.padding,i-=n.padding,o+=n.padding,r+=n.padding),n.background&&(l=`\n  <rect x="${s}" y="${i}" width="${o-s}" height="${r-i}" style="fill:${n.background};" />`);let $=`  <text font-size="0">${t}</text>${l}`;const a=n.detail&&n.detail[0],c=n.detail&&n.detail[1];return $+="\n"+e.spatials.map((t=>{let e=B(t.symbol),s=a;t.detail?s=t.detail[0]:n.colorize&&(s=Y(t.symbol)),s&&(e=e.replace(/class="sym-line" fill="black"/,`class="sym-line" fill="${s}"`));let i=c;return t.detail&&t.detail[1]&&(i=t.detail[1]),i&&(e=e.replace(/class="sym-fill" fill="white"/,`class="sym-fill" fill="${i}"`)),`  <g transform="translate(${t.coord[0]},${t.coord[1]})">\n${e}\n  </g>`})).join("\n"),$}return""},st=t=>{let e=U(t);if(e.spatials){let n=q(e.style),s=Math.min(...e.spatials.map((t=>t.coord[0]))),i=Math.min(...e.spatials.map((t=>t.coord[1]))),o=e.max[0],r=e.max[1],l="";n.classes&&(l=` class="${n.classes}"`);let $="";n.id&&($=` id="${n.id}"`),n.padding&&(s-=n.padding,i-=n.padding,o+=n.padding,r+=n.padding);let a="";"x"!=n.zoom&&(a=` width="${(o-s)*(n.zoom?n.zoom:1)}" height="${(r-i)*(n.zoom?n.zoom:1)}"`);let c=`<svg${l}${$} version="1.1" xmlns="http://www.w3.org/2000/svg"${a} viewBox="${s} ${i} ${o-s} ${r-i}">\n`;return c+=nt(t),c+="\n</svg>",c}return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1" height="1"></svg>'},it=class{constructor(e){t(this,e),this.sgnw=window.sgnw}connectedCallback(){if(!this.sign){let t=(t=>{const e="string"==typeof t?t.match(new RegExp(`^(${F.prefix})?(${F.signbox})(${R.full})?`)):void 0;return e?{sequence:e[1]?e[1].slice(2).match(/.{2}/g):void 0,box:e[2].slice(0,2),max:D(e[2].slice(2,6)),spatials:e[2].length<7?void 0:e[2].slice(6).match(/(.{6})/g).map((t=>({symbol:t.slice(0,2),coord:D(t.slice(2))}))),style:e[3]}:{}})(this.el.innerHTML);t.style&&(this.styling=t.style),t.style="",this.sign=(t=>{if("object"!=typeof t||null===t)return;let e="string"!=typeof t.box?"𝠃":(t.box+"𝠃").match(F.box);const n=t.max&&t.max[0]||"",s=t.max&&t.max[1]||"",i=n&&s?L([n,s]):void 0;if(!i)return;let o="";t.sequence&&Array.isArray(t.sequence)&&(o=t.sequence.map((t=>(t.match(F.symbol)||[""])[0])).join(""),o=o?"𝠀"+o:"");let r="";return t.spatials&&Array.isArray(t.spatials)&&(r=t.spatials.map((t=>{if("string"==typeof t.symbol){const e=(t.symbol.match(F.symbol)||[""])[0];if(e){const n=t.coord&&t.coord[0]||"",s=t.coord&&t.coord[1]||"",i=n&&s?L([n,s]):"";if(i)return e+i}}return""})).join("")),o+e+i+r+("string"==typeof t.style&&(t.style.match(R.full)||[""])[0]||"")})(t)}if(!this.sgnw){let t=this;window.addEventListener("sgnw",(function e(){t.sgnw=window.sgnw,window.removeEventListener("sgnw",e,!1)}),!1)}}render(){let t="";if(this.styling)t=this.styling;else{let s=window.getComputedStyle(this.el,null);const i={padding:s.getPropertyValue("padding"),background:e(s.getPropertyValue("background-color")),detail:[n(s.getPropertyValue("color")),n(s.getPropertyValue("background-color"))],zoom:parseInt(s.getPropertyValue("font-size").slice(0,-2))/30};t=c(i)}return s(i,{sign:this.sign,styling:this.styling,innerHTML:this.sgnw?st(this.sign+t):""},s("slot",null))}get el(){return o(this)}};it.style=":host{direction:ltr}";const ot=class{constructor(e){t(this,e),this.sgnw=window.sgnw}connectedCallback(){if(!this.symbol){let t=(t=>{const e="string"==typeof t?t.match(new RegExp(`^(${F.symbol})(${F.coord})?(${R.full})?`)):void 0;return{symbol:e?e[1]:void 0,coord:e&&e[2]?D(e[2]):void 0,style:e?e[3]:void 0}})(this.el.innerHTML);t.style&&(this.styling=t.style),t.style="",this.symbol=(t=>{if("object"==typeof t&&null!==t&&"string"==typeof t.symbol){const e=(t.symbol.match(F.symbol)||[""])[0];if(e){const n=t.coord&&t.coord[0]||"",s=t.coord&&t.coord[1]||"";return e+(n&&s?L([n,s]):"")+("string"==typeof t.style&&(t.style.match(R.full)||[""])[0]||"")}}})(t)}if(!this.sgnw){let t=this;window.addEventListener("sgnw",(function e(){t.sgnw=window.sgnw,window.removeEventListener("sgnw",e,!1)}),!1)}}render(){let t="";if(this.styling)t=this.styling;else{let s=window.getComputedStyle(this.el,null);const i={padding:s.getPropertyValue("padding"),background:e(s.getPropertyValue("background-color")),detail:[n(s.getPropertyValue("color")),n(s.getPropertyValue("background-color"))],zoom:parseInt(s.getPropertyValue("font-size").slice(0,-2))/30};t=c(i)}return s(i,{symbol:this.symbol,styling:this.styling,innerHTML:this.sgnw?et(this.symbol+t):""},s("slot",null))}get el(){return o(this)}};ot.style="";export{C as fsw_sign,M as fsw_symbol,S as fsw_vp,it as sgnw_sign,ot as sgnw_symbol}