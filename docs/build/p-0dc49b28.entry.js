/*!
 * The Sutton SignWriting Web Components
 */
import{r as s,h as t,H as i,g as e}from"./p-7486a92a.js";import{s as o}from"./p-47f4eea0.js";import{s as n}from"./p-2f35eb12.js";import{c as r}from"./p-79ff7b68.js";const l=class{constructor(t){s(this,t),this.sgnw=window.sgnw,this.items=[]}parseText(s){this.items=o.parse.text(s).map((s=>{let t=o.info(s);return t.text=s,t}))}connectedCallback(){if(this.vp?this.parseText(this.vp):this.vp=this.el.innerHTML,!this.sgnw){let s=this;window.addEventListener("sgnw",(function t(){s.sgnw=window.sgnw,window.removeEventListener("sgnw",t,!1)}),!1)}}render(){const s=r(this.el),e=n.compose({colorize:this.colorize,detail:s.detail});return t(i,{vp:this.vp},t("span",{class:"outside"},t("span",{class:"middle"},t("span",{class:"inside"},this.items.map((i=>{let o,n,r,l,a,d;return"sign"==i.segment?(o=s.zoom*i.zoom,n=i.padding*o,r=i.width*o+2*n,l=i.height*o+2*n,a=(1e3-2*i.minX-i.width)*o-150*s.zoom*i.lane,d=Math.max(0,20*o-n),t("sgnw-sign",{styling:e,style:{"font-size":30*s.zoom+"px",width:r+"px",height:l+"px","margin-right":(a>0?a:0)+"px","border-left":(a<0?-a:0)+"px solid transparent",padding:d+"px"}},i.text)):"symbol"==i.segment?(o=s.zoom*i.zoom,n=i.padding*o,r=i.width*o+2*n,l=i.height*o+2*n,d=Math.max(0,20*o-n),t("sgnw-symbol",{styling:e,style:{"font-size":30*s.zoom+"px",width:r+"px",height:l+"px","padding-bottom":d+"px"}},i.text)):(console.log("other"),t("div",null,i.text))}))))))}get el(){return e(this)}static get watchers(){return{vp:["parseText"]}}};l.style=":host{writing-mode:vertical-lr;border-left:1px solid blue;border-right:1px solid blue;height:100%}:host svg{display:block}:host span.outside{font-size:0%;line-height:0%;border-left:1px solid blue;vertical-align:top}:host span.middle{vertical-align:bottom}:host span.inside{border-left:1px dashed red}sgnw-sign,sgnw-symbol{writing-mode:horizontal-tb;display:inline-block;vertical-align:middle;box-sizing:content-box}";export{l as sgnw_vp}