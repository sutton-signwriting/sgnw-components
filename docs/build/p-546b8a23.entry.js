/*!
 * The Sutton SignWriting Web Components
 */
import{r as s,c as t,h as i,H as e,g as n}from"./p-98376542.js";import{s as o}from"./p-1625cafc.js";import{s as l}from"./p-e7a33787.js";const r=class{constructor(t){s(this,t),this.sgnw=window.sgnw,this.items=[]}parseText(s){this.items=o.parse.text(s).map((s=>{let t=o.info(s);return t.text=s,t}))}connectedCallback(){if(this.vp?this.parseText(this.vp):this.vp=this.el.innerHTML,!this.sgnw){let s=this;window.addEventListener("sgnw",(function t(){s.sgnw=window.sgnw,window.removeEventListener("sgnw",t,!1)}),!1)}}render(){const s=t(this.el),n=l.compose({colorize:this.colorize,detail:s.detail});return i(e,{vp:this.vp},i("span",{class:"outside"},i("span",{class:"middle"},i("span",{class:"inside"},this.items.map((t=>{let e,o,l,r,a,d;return"sign"==t.segment?(e=s.zoom*t.zoom,o=t.padding*e,l=t.width*e+2*o,r=t.height*e+2*o,a=(1e3-2*t.minX-t.width)*e-150*s.zoom*t.lane,d=Math.max(0,20*e-o),i("sgnw-sign",{styling:n,style:{"font-size":30*s.zoom+"px",width:l+"px",height:r+"px","margin-right":(a>0?a:0)+"px","border-left":(a<0?-a:0)+"px solid transparent",padding:d+"px"}},t.text)):"symbol"==t.segment?(e=s.zoom*t.zoom,o=t.padding*e,l=t.width*e+2*o,r=t.height*e+2*o,d=Math.max(0,20*e-o),i("sgnw-symbol",{styling:n,style:{"font-size":30*s.zoom+"px",width:l+"px",height:r+"px","padding-bottom":d+"px"}},t.text)):(console.log("other"),i("div",null,t.text))}))))))}get el(){return n(this)}static get watchers(){return{vp:["parseText"]}}};r.style=":host{writing-mode:vertical-lr;border-left:1px solid blue;border-right:1px solid blue;height:100%}:host svg{display:block}:host span.outside{font-size:0%;line-height:0%;border-left:1px solid blue;vertical-align:top}:host span.middle{vertical-align:bottom}:host span.inside{border-left:1px dashed red}sgnw-sign,sgnw-symbol{writing-mode:horizontal-tb;display:inline-block;vertical-align:middle;box-sizing:content-box}";export{r as sgnw_vp}