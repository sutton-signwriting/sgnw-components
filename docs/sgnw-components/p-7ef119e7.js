let t={symbol:"S[123][0-9a-f]{2}[0-5][0-9a-f]",coord:"[0-9]{3}x[0-9]{3}",sort:"A",box:"[BLMR]"};t.prefix=`(?:${t.sort}(?:${t.symbol})+)`,t.spatial=`${t.symbol}${t.coord}`,t.signbox=`${t.box}${t.coord}(?:${t.spatial})*`,t.sign=`${t.prefix}?${t.signbox}`,t.sortable=`${t.prefix}${t.signbox}`;let e={symbol:"(?:(?:\ud8c0[\udc01-\udfff])|(?:[\ud8c1-\ud8fc][\udc00-\udfff])|(?:\ud8fd[\udc00-\udc80]))",coord:"(?:\ud836[\udc0c-\uddff]){2}",sort:"ð €",box:"\ud836[\udc01-\udc04]"};e.prefix=`(?:${e.sort}(?:${e.symbol})+)`,e.spatial=`${e.symbol}${e.coord}`,e.signbox=`${e.box}${e.coord}(?:${e.spatial})*`,e.sign=`${e.prefix}?${e.signbox}`,e.sortable=`${e.prefix}${e.signbox}`;const n=t=>parseInt(t.codePointAt(0))-120844+250,o=t=>[n(t.slice(0,2)),n(t.slice(2,4))],s=t=>t.map((t=>(t=>String.fromCodePoint(120844+parseInt(t)-250))(t))).join(""),r=t=>t.split("x").map((t=>parseInt(t))),i=t=>parseInt(t.codePointAt(0)),$=t=>String.fromCodePoint(t),l=t=>i(t)-262144,a=t=>$(t+262144),c=t=>1+96*(parseInt(t.slice(1,4),16)-256)+16*parseInt(t.slice(4,5),16)+parseInt(t.slice(5,6),16),f=t=>{const e=t-1,n=parseInt(e/96),o=parseInt((e-96*n)/16),s=parseInt(e-96*n-16*o);return"S"+(n+256).toString(16)+o.toString(16)+s.toString(16)},d=t=>$(262145+96*(parseInt(t.slice(1,4),16)-256)+16*parseInt(t.slice(4,5),16)+parseInt(t.slice(5,6),16)),g=t=>{if(!t)return"";let n=t.replace(/ð €/g,"A").replace(/ð /g,"B").replace(/ð ‚/g,"L").replace(/ð ƒ/g,"M").replace(/ð „/g,"R");const s=n.match(new RegExp(e.symbol,"g"));s&&s.forEach((function(t){n=n.replace(t,(t=>{const e=i(t)-262145,n=parseInt(e/96),o=parseInt((e-96*n)/16),s=parseInt(e-96*n-16*o);return"S"+(n+256).toString(16)+o.toString(16)+s.toString(16)})(t))}));const r=n.match(new RegExp(e.coord,"g"));return r&&r.forEach((function(t){n=n.replace(t,o(t).join("x"))})),n},p=e=>{if(!e)return"";const n=e.match(new RegExp(t.prefix,"g"));n&&n.forEach((function(t){e=e.replace(t,"ð €"+t.slice(1).match(/.{6}/g).map((t=>d(t))).join(""))}));const o=e.match(new RegExp(t.box+t.coord,"g"));o&&o.forEach((function(t){e=e.replace(t,(t=>({A:"ð €",B:"ð ",L:"ð ‚",M:"ð ƒ",R:"ð „"}[t]))(t.slice(0,1))+s(r(t.slice(1,8))))}));const i=e.match(new RegExp(t.spatial,"g"));return i&&i.forEach((function(t){e=e.replace(t,d(t.slice(0,6))+s(r(t.slice(6,13))))})),e};let u={symbol:"S[123][0-9a-f]{2}[0-5][0-9a-f]",coord:"[0-9]{3}x[0-9]{3}",sort:"A",box:"[BLMR]"};u.prefix=`(?:${u.sort}(?:${u.symbol})+)`,u.spatial=`${u.symbol}${u.coord}`,u.signbox=`${u.box}${u.coord}(?:${u.spatial})*`,u.sign=`${u.prefix}?${u.signbox}`,u.sortable=`${u.prefix}${u.signbox}`;let x={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};x.colorbase=`(?:${x.colorhex}|${x.colorname})`,x.color=`_${x.colorbase}_`,x.colors=`_${x.colorbase}(?:,${x.colorbase})?_`,x.background="G"+x.color,x.detail="D"+x.colors,x.detailsym="D[0-9]{2}"+x.colors,x.classes=`${x.classbase}(?: ${x.classbase})*`,x.full=`-(${x.colorize})?(${x.padding})?(${x.background})?(${x.detail})?(${x.zoom})?(?:-((?:${x.detailsym})*)((?:${x.zoomsym})*))?(?:-(${x.classes})?!(?:(${x.id})!)?)?`;const y=t=>t.split("x").map((t=>parseInt(t))),v={symbol:t=>{const e="string"==typeof t?t.match(new RegExp(`^(${u.symbol})(${u.coord})?(${x.full})?`)):void 0;return{symbol:e?e[1]:void 0,coord:e&&e[2]?y(e[2]):void 0,style:e?e[3]:void 0}},sign:t=>{const e="string"==typeof t?t.match(new RegExp(`^(${u.prefix})?(${u.signbox})(${x.full})?`)):void 0;return e?{sequence:e[1]?e[1].slice(1).match(/.{6}/g):void 0,box:e[2][0],max:y(e[2].slice(1,8)),spatials:e[2].length<9?void 0:e[2].slice(8).match(/(.{13})/g).map((t=>({symbol:t.slice(0,6),coord:[parseInt(t.slice(6,9)),parseInt(t.slice(10,13))]}))),style:e[3]}:{}}},m={symbol:t=>{if("string"==typeof t.symbol){const e=(t.symbol.match(u.symbol)||[""])[0];if(e)return e+((((t.coord&&t.coord[0]||"").toString()+"x"+(t.coord&&t.coord[1]||"").toString()).match(u.coord)||[""])[0]||"")+("string"==typeof t.style&&(t.style.match(x.full)||[""])[0]||"")}},sign:t=>{let e="string"!=typeof t.box?"M":(t.box+"M").match(u.box);const n=(((t.max&&t.max[0]||"").toString()+"x"+(t.max&&t.max[1]||"").toString()).match(u.coord)||[""])[0]||"";if(!n)return;let o="";t.sequence&&Array.isArray(t.sequence)&&(o=(o=t.sequence.map((t=>(t.match(u.symbol)||[""])[0])).join(""))?"A"+o:"");let s="";return t.spatials&&Array.isArray(t.spatials)&&(s=t.spatials.map((t=>{if("string"==typeof t.symbol){const e=(t.symbol.match(u.symbol)||[""])[0];if(e){const n=(((t.coord&&t.coord[0]||"").toString()+"x"+(t.coord&&t.coord[1]||"").toString()).match(u.coord)||[""])[0]||"";if(n)return e+n}}return""})).join("")),o+e+n+s+("string"==typeof t.style&&(t.style.match(x.full)||[""])[0]||"")}};let z={symbol:"(?:(?:\ud8c0[\udc01-\udfff])|(?:[\ud8c1-\ud8fc][\udc00-\udfff])|(?:\ud8fd[\udc00-\udc80]))",coord:"(?:\ud836[\udc0c-\uddff]){2}",sort:"ð €",box:"\ud836[\udc01-\udc04]"};z.prefix=`(?:${z.sort}(?:${z.symbol})+)`,z.spatial=`${z.symbol}${z.coord}`,z.signbox=`${z.box}${z.coord}(?:${z.spatial})*`,z.sign=`${z.prefix}?${z.signbox}`,z.sortable=`${z.prefix}${z.signbox}`;let w={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};w.colorbase=`(?:${w.colorhex}|${w.colorname})`,w.color=`_${w.colorbase}_`,w.colors=`_${w.colorbase}(?:,${w.colorbase})?_`,w.background="G"+w.color,w.detail="D"+w.colors,w.detailsym="D[0-9]{2}"+w.colors,w.classes=`${w.classbase}(?: ${w.classbase})*`,w.full=`-(${w.colorize})?(${w.padding})?(${w.background})?(${w.detail})?(${w.zoom})?(?:-((?:${w.detailsym})*)((?:${w.zoomsym})*))?(?:-(${w.classes})?!(?:(${w.id})!)?)?`;const A=t=>parseInt(t.codePointAt(0))-120844+250,_=t=>[A(t.slice(0,2)),A(t.slice(2,4))],Z=t=>t.map((t=>(t=>String.fromCodePoint(120844+parseInt(t)-250))(t))).join(""),b={symbol:t=>{const e="string"==typeof t?t.match(new RegExp(`^(${z.symbol})(${z.coord})?(${w.full})?`)):void 0;return{symbol:e?e[1]:void 0,coord:e&&e[2]?_(e[2]):void 0,style:e?e[3]:void 0}},sign:t=>{const e="string"==typeof t?t.match(new RegExp(`^(${z.prefix})?(${z.signbox})(${w.full})?`)):void 0;return e?{sequence:e[1]?e[1].slice(2).match(/.{2}/g):void 0,box:e[2].slice(0,2),max:_(e[2].slice(2,6)),spatials:e[2].length<7?void 0:e[2].slice(6).match(/(.{6})/g).map((t=>({symbol:t.slice(0,2),coord:_(t.slice(2))}))),style:e[3]}:{}}},I={symbol:t=>{if("object"==typeof t&&null!==t&&"string"==typeof t.symbol){const e=(t.symbol.match(z.symbol)||[""])[0];if(e){const n=t.coord&&t.coord[0]||"",o=t.coord&&t.coord[1]||"";return e+(n&&o?Z([n,o]):"")+("string"==typeof t.style&&(t.style.match(w.full)||[""])[0]||"")}}},sign:t=>{if("object"!=typeof t||null===t)return;let e="string"!=typeof t.box?"ð ƒ":(t.box+"ð ƒ").match(z.box);const n=t.max&&t.max[0]||"",o=t.max&&t.max[1]||"",s=n&&o?Z([n,o]):void 0;if(!s)return;let r="";t.sequence&&Array.isArray(t.sequence)&&(r=(r=t.sequence.map((t=>(t.match(z.symbol)||[""])[0])).join(""))?"ð €"+r:"");let i="";return t.spatials&&Array.isArray(t.spatials)&&(i=t.spatials.map((t=>{if("string"==typeof t.symbol){const e=(t.symbol.match(z.symbol)||[""])[0];if(e){const n=t.coord&&t.coord[0]||"",o=t.coord&&t.coord[1]||"",s=n&&o?Z([n,o]):"";if(s)return e+s}}return""})).join("")),r+e+s+i+("string"==typeof t.style&&(t.style.match(w.full)||[""])[0]||"")}};let h={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};h.colorbase=`(?:${h.colorhex}|${h.colorname})`,h.color=`_${h.colorbase}_`,h.colors=`_${h.colorbase}(?:,${h.colorbase})?_`,h.background="G"+h.color,h.detail="D"+h.colors,h.detailsym="D[0-9]{2}"+h.colors,h.classes=`${h.classbase}(?: ${h.classbase})*`,h.full=`-(${h.colorize})?(${h.padding})?(${h.background})?(${h.detail})?(${h.zoom})?(?:-((?:${h.detailsym})*)((?:${h.zoomsym})*))?(?:-(${h.classes})?!(?:(${h.id})!)?)?`;const R=t=>{if("object"!=typeof t||null===t)return;let e="-";e+=t.colorize?"C":"";const n=parseInt(t.padding);e+=!n||n<=0||n>99?"":"P"+(n>9?n:"0"+n);const o=t.background&&"string"==typeof t.background?t.background.match(h.colorbase)[0]:void 0;e+=o?"G_"+o+"_":"";const s=t.detail&&t.detail[0]&&"string"==typeof t.detail[0]?t.detail[0].match(h.colorbase)[0]:void 0,r=t.detail&&t.detail[1]&&"string"==typeof t.detail[1]?t.detail[1].match(h.colorbase)[0]:void 0;s&&(e+="D_"+s,r&&(e+=","+r),e+="_");const i="x"===t.zoom?"x":parseFloat(t.zoom);e+=!i||i<=0?"":"Z"+i;let $="";$+=(t.detailsym&&Array.isArray(t.detailsym)?t.detailsym.map((t=>{const e=parseInt(t.index);if(!e||e<=0||e>99)return"";let n="D"+(e>9?e:"0"+e);const o=t.detail&&t.detail[0]?t.detail[0].match(h.colorbase)[0]:void 0,s=t.detail&&t.detail[1]?t.detail[1].match(h.colorbase)[0]:void 0;return o&&(n+="_"+o,s&&(n+=","+s),n+="_"),n})):[]).join(""),$+=(t.zoomsym&&Array.isArray(t.zoomsym)?t.zoomsym.map((t=>{const e=parseInt(t.index);if(!e||e<=0||e>99)return"";let n="Z"+(e>9?e:"0"+e);const o=parseFloat(t.zoom);if(n+=!o||o<=0?"":","+o,t.offset&&0 in t.offset&&1 in t.offset){const e=parseInt(t.offset[0])+500,o=parseInt(t.offset[1])+500;e>=250&&e<750&&o>=250&&o<750&&(n+=","+e+"x"+o)}return n})):[]).join("");let l="";const a=t.classes&&"string"==typeof t.classes?t.classes.match(h.classes)[0]:void 0;l+=a||"";const c=t.id&&"string"==typeof t.id?t.id.match(h.id)[0]:void 0;return l+=a||c?"!":"",l+=c?c+"!":"",e+($||l?"-"+$:"")+(l?"-"+l:"")},S=t=>1+96*(parseInt(t.slice(1,4),16)-256)+16*parseInt(t.slice(4,5),16)+parseInt(t.slice(5,6),16);let E={};const F=document.createElement("canvas");F.width=152,F.height=152;const M=F.getContext("2d"),D=function(t){return function(t){if(t in E)return[...E[t]];M.clearRect(0,0,152,152),M.font="60px 'SuttonSignWritingLine'",M.fillText(String.fromCodePoint(t+983040),0,0);const e=M.getImageData(0,0,152,152).data;let n,o,s,r;t:for(n=151;n>=0;n--)for(o=0;o<152;o+=1)for(r=0;r<4;r+=1)if(s=4*n+4*o*152+r,e[s])break t;var i=n;t:for(o=151;o>=0;o--)for(n=0;n<i;n+=1)for(r=0;r<4;r+=1)if(s=4*n+4*o*152+r,e[s])break t;var $=o+1;if(i=Math.ceil(i/2),$=Math.ceil($/2),14394==t&&(i=19),[10468,10480,10496,10512,10500,10532,10548,10862,10878,10894,11058,11074,11476,11488,11492,11504,11508,11520,10516,10910,10926,11042,11082,10942].includes(t)&&(i=20),31921==t&&(i=22),38460==t&&(i=23),[20164,20212].includes(t)&&(i=25),31894==t&&(i=28),46698==t&&(i=29),29606==t&&(i=30),44855==t&&(i=40),32667==t&&(i=50),[11088,11474,11490,11506].includes(t)&&($=20),6285==t&&($=21),40804==t&&($=31),41475==t&&($=36),0==i&&0==$){const e={9:[15,30],10:[21,30],11:[30,15],12:[30,21],13:[15,30],14:[21,30]};t in e&&(i=e[t][0],$=e[t][1])}return 0!=i||0!=$?(E[t]=[i,$],[i,$]):void 0}(S(t))},C=function(t){return`    <text class="sym-fill" fill="white" style="pointer-events:none;font-family:'SuttonSignWritingFill';font-size:30px;">${function(t){return String.fromCodePoint(t+1048576)}(e=S(t))}</text>\n    <text class="sym-line" fill="black" style="pointer-events:none;font-family:'SuttonSignWritingLine';font-size:30px;">${function(t){return String.fromCodePoint(t+983040)}(e)}</text>`;var e};let B={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};B.colorbase=`(?:${B.colorhex}|${B.colorname})`,B.color=`_${B.colorbase}_`,B.colors=`_${B.colorbase}(?:,${B.colorbase})?_`,B.background="G"+B.color,B.detail="D"+B.colors,B.detailsym="D[0-9]{2}"+B.colors,B.classes=`${B.classbase}(?: ${B.classbase})*`,B.full=`-(${B.colorize})?(${B.padding})?(${B.background})?(${B.detail})?(${B.zoom})?(?:-((?:${B.detailsym})*)((?:${B.zoomsym})*))?(?:-(${B.classes})?!(?:(${B.id})!)?)?`;const L=t=>(new RegExp(`^${B.colorhex}$`).test(t)?"#":"")+t,k=t=>{const e=("string"==typeof t?t.match(new RegExp("^"+B.full)):[])||[];return{colorize:e[1]?!!e[1]:void 0,padding:e[2]?parseInt(e[2].slice(1)):void 0,background:e[3]?L(e[3].slice(2,-1)):void 0,detail:e[4]?e[4].slice(2,-1).split(",").map(L):void 0,zoom:e[5]?"Zx"===e[5]?"x":parseFloat(e[5].slice(1)):void 0,detailsym:e[6]?e[6].match(new RegExp(B.detailsym,"g")).map((t=>{const e=t.split("_"),n=e[1].split(",").map(L);return{index:parseInt(e[0].slice(1)),detail:n}})):void 0,zoomsym:e[7]?e[7].match(new RegExp(B.zoomsym,"g")).map((t=>{const e=t.split(",");return{index:parseInt(e[0].slice(1)),zoom:parseFloat(e[1]),offset:e[2]?e[2].split("x").map((t=>parseInt(t)-500)):void 0}})):void 0,classes:e[8]?e[8]:void 0,id:e[9]?e[9]:void 0}};let G={symbol:"S[123][0-9a-f]{2}[0-5][0-9a-f]",coord:"[0-9]{3}x[0-9]{3}",sort:"A",box:"[BLMR]"};G.prefix=`(?:${G.sort}(?:${G.symbol})+)`,G.spatial=`${G.symbol}${G.coord}`,G.signbox=`${G.box}${G.coord}(?:${G.spatial})*`,G.sign=`${G.prefix}?${G.signbox}`,G.sortable=`${G.prefix}${G.signbox}`;let P={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};P.colorbase=`(?:${P.colorhex}|${P.colorname})`,P.color=`_${P.colorbase}_`,P.colors=`_${P.colorbase}(?:,${P.colorbase})?_`,P.background="G"+P.color,P.detail="D"+P.colors,P.detailsym="D[0-9]{2}"+P.colors,P.classes=`${P.classbase}(?: ${P.classbase})*`,P.full=`-(${P.colorize})?(${P.padding})?(${P.background})?(${P.detail})?(${P.zoom})?(?:-((?:${P.detailsym})*)((?:${P.zoomsym})*))?(?:-(${P.classes})?!(?:(${P.id})!)?)?`;const j=t=>t.split("x").map((t=>parseInt(t))),q=t=>{const e="string"==typeof t?t.match(new RegExp(`^(${G.symbol})(${G.coord})?(${P.full})?`)):void 0;return{symbol:e?e[1]:void 0,coord:e&&e[2]?j(e[2]):void 0,style:e?e[3]:void 0}},W=[256,517,759,767,877,895,903],H=["#0000CC","#CC0000","#FF0099","#006600","#000000","#884411","#FF9900"],J=t=>{const e=q(t);let n="#000000";if(e.symbol){const t=parseInt(e.symbol.slice(1,4),16),o=W.findIndex((e=>e>t));n=H[o<0?6:o-1]}return n},K=t=>{const e=q(t);if(e.symbol){let n=D(e.symbol);if(n){let o,s=k(e.style),r=C(e.symbol);r=`  <g transform="translate(500,500)">\n${r}\n  </g>`,s.colorize?o=J(e.symbol):s.detail&&(o=s.detail[0]),o&&(r=r.replace(/class="sym-line" fill="black"/,`class="sym-line" fill="${o}"`));let i=s.detail&&s.detail[1];i&&(r=r.replace(/class="sym-fill" fill="white"/,`class="sym-fill" fill="${i}"`));let $=500,l=500,a="";s.padding&&($-=s.padding,l-=s.padding,n[0]+=2*s.padding,n[1]+=2*s.padding),s.background&&(a=`\n  <rect x="${$}" y="${l}" width="${n[0]}" height="${n[1]}" style="fill:${s.background};" />`);let c="";"x"!=s.zoom&&(c=` width="${n[0]*(s.zoom?s.zoom:1)}" height="${n[1]*(s.zoom?s.zoom:1)}"`);let f="";s.classes&&(f=` class="${s.classes}"`);let d="";return s.id&&(d=` id="${s.id}"`),`<svg${f}${d} version="1.1" xmlns="http://www.w3.org/2000/svg"${c} viewBox="${$} ${l} ${n[0]} ${n[1]}">\n  <text font-size="0">${t}</text>${a}\n${r}\n</svg>`}}return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1" height="1"></svg>'},N=t=>{let e=(t=>{const e="string"==typeof t?t.match(new RegExp(`^(${G.prefix})?(${G.signbox})(${P.full})?`)):void 0;return e?{sequence:e[1]?e[1].slice(1).match(/.{6}/g):void 0,box:e[2][0],max:j(e[2].slice(1,8)),spatials:e[2].length<9?void 0:e[2].slice(8).match(/(.{13})/g).map((t=>({symbol:t.slice(0,6),coord:[parseInt(t.slice(6,9)),parseInt(t.slice(10,13))]}))),style:e[3]}:{}})(t);if(e.spatials){let n=k(e.style);n.detailsym&&n.detailsym.forEach((t=>{e.spatials[t.index-1]&&(e.spatials[t.index-1].detail=t.detail)}));let o=Math.min(...e.spatials.map((t=>t.coord[0]))),s=Math.min(...e.spatials.map((t=>t.coord[1]))),r=e.max[0],i=e.max[1];n.zoomsym&&n.zoomsym.forEach((t=>{if(e.spatials[t.index-1]){e.spatials[t.index-1].zoom=t.zoom,t.offset&&(e.spatials[t.index-1].coord[0]+=t.offset[0],e.spatials[t.index-1].coord[1]+=t.offset[1]);let n=D(e.spatials[t.index-1].symbol);r=Math.max(r,e.spatials[t.index-1].coord[0]+n[0]*t.zoom),i=Math.max(i,e.spatials[t.index-1].coord[1]+n[1]*t.zoom)}}));let $="";n.classes&&($=` class="${n.classes}"`);let l="";n.id&&(l=` id="${n.id}"`);let a="";n.padding&&(o-=n.padding,s-=n.padding,r+=n.padding,i+=n.padding),n.background&&(a=`\n  <rect x="${o}" y="${s}" width="${r-o}" height="${i-s}" style="fill:${n.background};" />`);let c="";"x"!=n.zoom&&(c=` width="${(r-o)*(n.zoom?n.zoom:1)}" height="${(i-s)*(n.zoom?n.zoom:1)}"`);let f=`<svg${$}${l} version="1.1" xmlns="http://www.w3.org/2000/svg"${c} viewBox="${o} ${s} ${r-o} ${i-s}">\n  <text font-size="0">${t}</text>${a}`;const d=n.detail&&n.detail[0],g=n.detail&&n.detail[1];return f+="\n"+e.spatials.map((t=>{let e=C(t.symbol),o=d;t.detail?o=t.detail[0]:n.colorize&&(o=J(t.symbol)),o&&(e=e.replace(/class="sym-line" fill="black"/,`class="sym-line" fill="${o}"`));let s=g;return t.detail&&t.detail[1]&&(s=t.detail[1]),s&&(e=e.replace(/class="sym-fill" fill="white"/,`class="sym-fill" fill="${s}"`)),t.zoom&&(e=`<g transform="scale(${t.zoom})">${e}</g>`),`  <g transform="translate(${t.coord[0]},${t.coord[1]})">\n${e}\n  </g>`})).join("\n"),f+="\n</svg>",f}return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1" height="1"></svg>'};export{p as I,I as a,d as b,a as d,v as e,l as g,N as k,b as l,g as m,m as r,R as t,f as u,K as w,c as x}